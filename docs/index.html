<!doctype html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- CSP設定（セキュリティ対策の一部）。scriptやeval()やcss,画像の読み込みなどでエラーが出る場合はここを調整要。-->
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />

    <!-- main側で設定する場合は、コメントアウトが必要-->
    <title>Simplem</title>
    <!-- short hand, igniter, skillet, overwhelm, catalyst, gale, Simple Glint, SimpleGlint, Glint -->

    <!-- Bootstrap core CSS
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    -->
    <meta name="theme-color" content="#707070">

    <!-- font awesome CSS -->
    <link rel="stylesheet" href="css/all.min.css">

    <!-- preview CSS -->
    <link rel="stylesheet" href="css/preview.css">

    <!-- easymde CSS and JS -->
    <link rel="stylesheet" href="css/easymde.css">
    <script src="easymde.js"></script>

    <!-- editor view mode CSS -->
    <link id="editor_view_mode_css" rel="stylesheet" href="css/editor_view_mode/evm_normal.css">

    <!-- print CSS -->
    <link id="print_css" rel="stylesheet" href="css/print.css">

    <!-- font CSS -->
    <link id="font_css" rel="stylesheet" href="css/font/font_modern_os.css">

    <!-- highlight.js -->
    <script id="hl_js" src="js/highlight/highlight.min.js"></script>
    <link id="code_hl_mode_css" rel="stylesheet" href="css/highlight_code/hljs_modern.min.css">
    <!--script>hljs.initHighlightingOnLoad();</script-->

    <!-- cm search addon css -->
    <link rel="stylesheet" href="cm_search_addon/dialog.css">
    <link rel="stylesheet" href="cm_search_addon/matchesonscrollbar.css">

    <!-- cm merge addon css depend js -->
    <link rel="stylesheet" href="css/merge.css">
    <script src="js/diff_match_patch.js"></script>

    <!-- option css -->
    <link rel="stylesheet" href="css/option/same_font_size.css">
    <link rel="stylesheet" href="css/option/line_height_wide.css">
</head>



<body>
    <form id="file_menu" style="overflow: scroll; white-space: nowrap;">

        <input type="file" id="file_select" accept=".txt, .html, .md" style="width:110px;">
        <input type="text" id="file_name" value="Simplem.txt"></input>

        <button id="save_as">名前を付けて保存</button>

        <label for="view_mode">表示モード</label>
        <select id="view_mode">
            <option>ライブプレビュー</option>
            <option>マークを常に表示</option>
            <option>ソースコード</option>
            <option>ソースコード（ハイライト有り）</option>
        </select>
        <label for="font">フォント</label>
        <select id="font">
            <option>ライブプレビュー</option>
            <option>マークを常に表示</option>
            <option>ソースコード</option>
            <option>ソースコード（ハイライト有り）</option>
        </select>
        <label for="option">オプション</label>
        <select id="option">
            <option>ライブプレビュー</option>
            <option>マークを常に表示</option>
            <option>ソースコード</option>
            <option>ソースコード（ハイライト有り）</option>
        </select>
    </form>


    <div id="toc_wrapper" style="display:none;">
        <div class="toc_title">目次</div>
        <div id="toc">
        </div>
    </div>
    <!--開く、保存、名前を付けて保存ボタン
    <div>
        <button id="open" type="button">Open</button>
        <button id="save" type="button">Save</button>
        <button id="save_as" type="button">Save as</button>
        <button id="some-button" type="button">Search</button>
    </div>
    -->
    <textarea id="my-text-area"></textarea>



</body>

<script>
    let easyMDE = new EasyMDE({
        element: document.getElementById('my-text-area'),
        autoDownloadFontAwesome: false,
        minHeight: "1px",
        //autosave: {
        //    enabled: true,
        //    delay: 1000,
        //    uniqueId: 'mde-autosave'
        //},
        //styleActiveLine: true,//easymde.js修正要
        previewImagesInEditor: false,
        //lineNumbers: true,
        autofocus: false,
        forceSync: false,
        hideIcons: ["fullscreen", "heading", "italic", "image"],
        //initialValue: "# Hello world!",
        //parsingConfig: { allowAtxHeaderWithoutSpace: true },
        renderingConfig: {
            singleLineBreaks: true,
            codeSyntaxHighlighting: true,
        },
        //テーブル機能はオプションとして登録予定。'table',
        showIcons: ['strikethrough', 'code', 'redo', 'undo', 'heading-1', 'heading-2', 'heading-3', 'horizontal-rule', 'memo'],
        spellChecker: false,
        status: ["lines"],
        //toolbar: false,
        toolbarTip: true,
        tabSize: 4,
        sideBySideFullscreen: false,
        syncSideBySidePreviewScroll: true,


    });

    //イベントハンドラーの使用
    //easyMDE.codemirror.on("change", function () {
    //
    //    let ele_f_h1 = document.getElementsByClassName("cm-formatting-header-1");
    //    for (let i = 0; i < ele_f_h1.length; i++) {
    //
    //        if (ele_f_h1[i].innerHTML == "# ") {
    //            ele_f_h1[i].setAttribute("style", "display:none;");
    //
    //        } else {
    //            //ele_f_h1[i].setAttribute("style", "display:inline;");
    //        };
    //    }
    //});

</script>

<!-- toc js -->
<script src="js/toc.js"></script>
<link rel="stylesheet" href="css/toc.css">
<!-- toc_for_preview js -->
<script src="js/toc_for_preview.js"></script>
<!-- toc_for_marp js -->
<script src="js/toc_for_marp.js"></script>









<!-- electronのレンダラー用script (via ipc) ====================================important====================================
<script src="renderer.js"></script>
-->

<!-- web版用のファイルメニュー用スクリプト======================================important==================================== -->
<script src="js_for_web/file_menu.js"></script>


<!-- mark live preview js ======================================================important==================================== -->
<script src="mark_live_preview.js"></script>









<!-- darkmode.js （適用のためにcssで色々修正済み）-->
<script src="js/darkmode.js"></script>
<script src="js/darkmode_handle.js"></script>

<!-- misc js -->
<script src="js/misc.js"></script>

<!-- merge_handle js -->
<script src="js/merge_handle.js"></script>

<!-- mermaid js -->
<script defer src="js/mermaid/mermaid.js"></script>
<script defer src="js/mermaid/mermaid_init.js"></script>


<!-- marp js css -->
<script defer src="./js/marp/bundle.js"></script>
<!-- marp helper js レンダーが自動生成するスクリプトを抜き出して固定埋め込みしたもの（コードsvgを正常動作させるため） -->
<script defer src="./js/marp/helper.js"></script>
<script defer src="js/marp/marp_handle.js"></script>
<link id="marp_css" rel="stylesheet" href="css/marp.css">
<!-- marp_book js （有効化するときはmarp_handle js内のwindow.flg_book_on = false;を削除）
<script defer src="js/marp/marp_book_handle.js"></script>
-->

<!-- slide_show js css -->
<script defer src="js/marp/slide_show.js"></script>
<link id="slide_show_css" rel="stylesheet" href="css/slide_show_off.css">


</html>