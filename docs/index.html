<!doctype html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- CSP設定（セキュリティ対策の一部）。scriptやeval()やcss,画像の読み込みなどでエラーが出る場合はここを調整要。
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    -->

    <!-- main側で設定する場合は、コメントアウトが必要-->
    <title>Simplem</title>
    <link rel="icon" href="favicon.png">
    <!-- short hand, igniter, skillet, overwhelm, catalyst, gale, Simple Glint, SimpleGlint, Glint -->

    <!-- Bootstrap core CSS
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    -->
    <meta name="theme-color" content="#707070">

    <!-- font awesome CSS -->
    <link rel="stylesheet" href="css/all.min.css">

    <!-- preview CSS -->
    <link rel="stylesheet" href="css/preview.css">

    <!-- easymde CSS and JS -->
    <link rel="stylesheet" href="css/easymde.css">
    <script src="easymde.js"></script>

    <!-- editor view mode CSS -->
    <link id="editor_view_mode_css" rel="stylesheet" href="css/editor_view_mode/evm_normal.css">

    <!-- print CSS -->
    <link id="print_css" rel="stylesheet" href="css/print.css">

    <!-- font CSS -->
    <link id="font_css" rel="stylesheet" href="css/font/font_modern_os.css">

    <!-- highlight.js -->
    <script id="hl_js" src="js/highlight/highlight.min.js"></script>
    <link id="code_hl_mode_css" rel="stylesheet" href="css/highlight_code/hljs_modern.min.css">
    <!--script>hljs.initHighlightingOnLoad();</script-->

    <!-- cm search addon css -->
    <link rel="stylesheet" href="cm_search_addon/dialog.css">
    <link rel="stylesheet" href="cm_search_addon/matchesonscrollbar.css">

    <!-- cm merge addon css depend js -->
    <link rel="stylesheet" href="css/merge.css">
    <script src="js/diff_match_patch.js"></script>

    <!-- option css -->
    <link rel="stylesheet" href="css/option/same_font_size.css">
    <link rel="stylesheet" href="css/option/line_height_wide.css">

    <!-- modal css
    <link rel="stylesheet" href="css/modal.css">
    -->

    <!-- menu_web css -->
    <link rel="stylesheet" href="css/menu_web.css">

</head>


<body>



    <nav id="div-menu-nav">
        <div class="menu-tab menu-hover1"><a>ファイル</a></div>
        <div class="menu-tab menu-hover2"><a>編集</a></div>
        <div class="menu-tab menu-hover3"><a>表示モード</a></div>
        <div class="menu-tab menu-hover4"><a>フォント</a></div>
        <!--
        <div class="menu-tab menu-hover5"><a href="#modal-01" id="modal_button" style="break-inside: avoid;">オプション</a></div>
        -->
        <div class="menu-tab menu-hover5"><a>オプション</a></div>
        <div class="box1">
            <div>
                <a href="Javascript:document.getElementById('file_select').click();">PCからファイルを開く
                    <input type="file" id="file_select" accept=".txt, .html, .md" style="display: none;">
                </a>
            </div>
            <div>
                <a id="save_as">PCに名前を付けて保存</a>
                <input type="text" id="file_name" style="margin-left: 6px;" value="Simplem.txt">
            </div>
            <hr class="sepa_menu">
            <div><a id="file_open_gdrive">Google Driveからファイルを開く</a></div>
            <div><a>Google Driveに上書き保存</a></div>
            <div><a>Google Driveに名前を付けて保存</a></div>
            <hr class="sepa_menu">
            <div><a href="https://drive.google.com" target="blank">Google Driveを開く</a></div>
            <hr class="sepa_menu">
            <div><a id="simple_window_open">シンプルウィンドウを開く</a></div>
            <hr class="sepa_menu">
            <div><a id="ctc">htmlとしてクリップボードへコピー</a></div>
            <hr class="sepa_menu">
            <div><a id="print">印刷</a></div>
        </div>
        <div class="box2">
            <div><a href="Javascript:easyMDE.codemirror.execCommand('undo');">元に戻す</a></div>
            <div><a href="Javascript:easyMDE.codemirror.execCommand('redo');">やり直し</a></div>
            <!--
            <hr class="sepa_menu">
            <div><a href="Javascript:document.execCommand('cut');">切り取り</a></div>
            <div><a href="Javascript:document.execCommand('copy');">コピー</a></div>
            <div><a href="Javascript:document.execCommand('paste');">貼り付け</a></div>
            -->
            <hr class="sepa_menu">
            <div><a href="Javascript:easyMDE.codemirror.execCommand('selectAll');">全て選択</a></div>
            <!--
            <hr class="sepa_menu">
            <div><a href="Javascript:easyMDE.codemirror.execCommand('find');">検索</a></div>
            <div><a>置換</a></div>
            -->
            <hr class="sepa_menu">
            <div><a>読み上げ</a></div>
            <hr class="sepa_menu">
            <div><a>音声入力</a></div>
        </div>
        <div class="box3">
            <div>
                <form id="view_mode">
                    <a><label><input type="radio" name="trigger" value="0" checked="true">ライブプレビュー</label></a>
                    <a><label><input type="radio" name="trigger" value="1">マークを常に表示</label></a>
                    <a><label><input type="radio" name="trigger" value="2">ソースコード</label></a>
                    <a><label><input type="radio" name="trigger" value="3">ソースコード（ハイライト有り）</label></a>
                </form>
            </div>
            <!--
            <div><a>アイテム2-2</a></div>
            <div><a>アイテム2-3</a></div>
            -->
        </div>
        <div class="box4">
            <div>
                <form id="font">
                    <a><label><input type="radio" name="trigger" value="0" checked="true">モダンOS</label></a>
                    <a><label><input type="radio" name="trigger" value="1">モダンBrowser</label></a>
                    <a><label><input type="radio" name="trigger" value="2">Simplem</label></a>
                    <a><label><input type="radio" name="trigger" value="3">ビューティフルコード</label></a>
                    <a><label><input type="radio" name="trigger" value="4">ビューティフルドット</label></a>
                    <a><label><input type="radio" name="trigger" value="5">美しい明朝体</label></a>
                    <a><label><input type="radio" name="trigger" value="6">UDゴシック</label></a>
                    <a><label><input type="radio" name="trigger" value="7">UD明朝</label></a>
                </form>
            </div>
        </div>
        <div class="box5">
            <div>
                <form id="option">
                    <a><label><input type="checkbox" checked="true" id="h1_page_break">印刷時にh1で改ページ</label></a>
                    <a><label><input type="checkbox" id="hr_page_break">印刷時に---で改ページ</label></a>
                    <a><label><input type="checkbox" id="wide_row">行間を広くする</label></a>
                    <hr class="sepa_menu">
                    <a><label><input type="checkbox" id="window_slide_show">ウィンドウモードでスライドショー（リモート会議用）</label></a>
                    <hr class="sepa_menu">
                    <a><label><input type="checkbox" checked="true" id="same_font_size">文字サイズを統一</label></a>
                </form>
            </div>
        </div>
    </nav>




    <!-- モーダルここから modal.cssで設定
    <div class="modal-wrapper" id="modal-01">
        <a href="#!" class="modal-overlay"></a>
        <div class="modal-window">
            <div class="modal-content">
                <h2>オプション</h2>
                <h3>文書モード</h3>
                <input type="checkbox" checked="true" id="h1_page_break">
                <label for="h1_page_break">印刷時にh1で改ページ</label><br>
                <input type="checkbox" id="hr_page_break">
                <label for="hr_page_break">印刷時に---で改ページ</label><br>
                <input type="checkbox" id="wide_row">
                <label for="wide_row">行間を広くする</label>
                <h3>スライドモード</h3>
                <input type="checkbox" id="window_slide_show">
                <label for="window_slide_show">ウィンドウモードでスライドショー（リモート会議用）</label>
                <h3>編集画面</h3>
                <input type="checkbox" checked="true" id="same_font_size">
                <label for="same_font_size">文字サイズを統一</label>
                <br><br><br>
            </div>
            <a href="#!" class="modal-close">×</a>
        </div>
    </div>
    -->
    <!-- モーダルここまで -->





    <div id="toc_wrapper" style="display:none;">
        <div class="toc_title">目次</div>
        <div id="toc">
        </div>
    </div>
    <!--開く、保存、名前を付けて保存ボタン
    <div>
        <button id="open" type="button">Open</button>
        <button id="save" type="button">Save</button>
        <button id="save_as" type="button">Save as</button>
        <button id="some-button" type="button">Search</button>
    </div>
    -->
    <textarea id="my-text-area"></textarea>

    <!-- -->
    <div id="result"></div>

</body>

<script>
    let easyMDE = new EasyMDE({
        element: document.getElementById('my-text-area'),
        autoDownloadFontAwesome: false,
        minHeight: "1px",
        //autosave: {
        //    enabled: true,
        //    delay: 1000,
        //    uniqueId: 'mde-autosave'
        //},
        //styleActiveLine: true,//easymde.js修正要
        previewImagesInEditor: false,
        //lineNumbers: true,
        autofocus: false,
        forceSync: false,
        hideIcons: ["fullscreen", "heading", "italic", "image"],
        //initialValue: "# Hello world!",
        //parsingConfig: { allowAtxHeaderWithoutSpace: true },
        renderingConfig: {
            singleLineBreaks: true,
            codeSyntaxHighlighting: true,
        },
        //テーブル機能はオプションとして登録予定。'table',
        showIcons: ['strikethrough', 'code', 'redo', 'undo', 'heading-1', 'heading-2', 'heading-3', 'horizontal-rule', 'memo'],
        spellChecker: false,
        status: ["lines"],
        //toolbar: false,
        toolbarTip: true,
        tabSize: 4,
        sideBySideFullscreen: false,
        syncSideBySidePreviewScroll: true,


    });

    //イベントハンドラーの使用
    //easyMDE.codemirror.on("change", function () {
    //
    //    let ele_f_h1 = document.getElementsByClassName("cm-formatting-header-1");
    //    for (let i = 0; i < ele_f_h1.length; i++) {
    //
    //        if (ele_f_h1[i].innerHTML == "# ") {
    //            ele_f_h1[i].setAttribute("style", "display:none;");
    //
    //        } else {
    //            //ele_f_h1[i].setAttribute("style", "display:inline;");
    //        };
    //    }
    //});

</script>

<!-- toc js -->
<script src="js/toc.js"></script>
<link rel="stylesheet" href="css/toc.css">
<!-- toc_for_preview js -->
<script src="js/toc_for_preview.js"></script>
<!-- toc_for_marp js -->
<script src="js/toc_for_marp.js"></script>









<!-- electronのレンダラー用script (via ipc) ====================================important====================================
<script src="renderer.js"></script>
-->

<!-- web版用のファイルメニュー用スクリプト======================================important==================================== -->
<script src="js_for_web/file_menu.js"></script>


<!-- mark live preview js ======================================================important==================================== -->
<script src="mark_live_preview.js"></script>









<!-- darkmode.js （適用のためにcssで色々修正済み）-->
<script src="js/darkmode.js"></script>
<script src="js/darkmode_handle.js"></script>

<!-- misc js -->
<script src="js/misc.js"></script>

<!-- merge_handle js -->
<script src="js/merge_handle.js"></script>

<!-- mermaid js -->
<script defer src="js/mermaid/mermaid.js"></script>
<script defer src="js/mermaid/mermaid_init.js"></script>


<!-- marp js css -->
<script defer src="./js/marp/bundle.js"></script>
<!-- marp helper js レンダーが自動生成するスクリプトを抜き出して固定埋め込みしたもの（コードsvgを正常動作させるため） -->
<script defer src="./js/marp/helper.js"></script>
<script defer src="js/marp/marp_handle.js"></script>
<link id="marp_css" rel="stylesheet" href="css/marp.css">
<!-- marp_book js （有効化するときはmarp_handle js内のwindow.flg_book_on = false;を削除）
<script defer src="js/marp/marp_book_handle.js"></script>
-->

<!-- slide_show js css -->
<script defer src="js/marp/slide_show.js"></script>
<link id="slide_show_css" rel="stylesheet" href="css/slide_show_off.css">

<!-- gdrive api キーはリファラーで制限-->
<script src="js_for_web/key_config.js"></script>
<script src="js/gdrive-fs.js"></script>
<script src="js/gdrive_hundle.js"></script>


<!-- The Google picker script.-->
<script src="js_for_web/g_picker.js"></script>


</html>